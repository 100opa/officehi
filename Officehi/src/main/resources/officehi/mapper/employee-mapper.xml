<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.groupware.officehi.repository.EmployeeRepository">

	<insert id="saveUserInfo" keyProperty="userNo" useGeneratedKeys="true" parameterType="EmployeeDTO">
		INSERT INTO user(name, phone, birth_date, to_date, dept_name, position, stamp, profile)
		VALUES (#{name}, #{phone}, #{birthDate}, #{toDate}, #{deptName}, #{position}, #{stamp}, #{profile})		
	</insert>

	 <select id="findByUserNo" resultType="EmployeeDTO">
	 	SELECT * 
		FROM user
		WHERE user_no = #{userNo}
	 </select>
	 
<!-- 	 <update id="updateUserInfo" parameterType="java.lang.List">
	 	<foreach collection="list" item="item" separator=",">
	 	UPDATE user 
	 	SET 
	 	name = #{item.name},
	 	phone = #{item.phone},
	 	birth_date = #{item.birthDate},
	 	to_date = #{item.toDate},	 	
	 	from_date = #{item.fromDate},
	 	dept_name = #{item.deptName},
	 	position = #{item.position}
	 	WHERE user_no = #{userNo}
	 	</foreach>
	 </update>
 -->
 
 
	<!-- 전체조회 -->    
	<select id="findAllEmployee" resultType="EmployeeDTO">
		SELECT user_no, name, phone, birth_date, position, to_date, from_date, dept_name 
		FROM user;

	</select>
</mapper>